uuid: b6dfba96-e596-45dc-90d5-d6189ecf93a4
langcode: en
status: true
dependencies: {  }
id: lookup_tables
migration_tags: null
migration_group: eldrich_core
label: 'Basic lookup tables'
source:
  plugin: csv
  path: modules/custom/ep_import/data/data-tables.csv
  header_row_count: 1
  column_names:
    -
      title: Title
    -
      code: Code
    -
      table: Table
    -
      weight: Weight
    -
      description: Description
    -
      speed: Speed
  ids:
    title:
      type: string
    table:
      type: string
  constants:
    format: basic_html
process:
  type: table
  title: title
  field_lookup_code:
    plugin: skip_on_empty
    method: process
    source: code
  field_weight:
    plugin: skip_on_empty
    method: process
    source: weight
  '@speed_array':
    -
      plugin: skip_on_empty
      method: process
      source: speed
    -
      plugin: explode
      delimiter: /
  field_speed/walk:
    -
      plugin: skip_on_empty
      method: process
      source: '@speed_array'
    -
      plugin: extract
      index: 0
  field_speed/run:
    -
      plugin: skip_on_empty
      method: process
      source: '@speed_array'
    -
      plugin: extract
      index: 1
  field_speed/cruise:
    -
      plugin: skip_on_empty
      method: process
      source: '@speed_array'
    -
      plugin: extract
      index: 2
  field_description/value:
    plugin: skip_on_empty
    method: process
    source: description
destination:
  plugin: 'entity:lookup'
migration_dependencies: null
